Εντολη μεταγλωττισης: gcc -o <ονομα εκτελεσιμου> OS-Project-1.c children.c memory.h -lpthread

Εντολη εκτελεσης: ./<ονομα εκτελεσιμου> <ονομα αρχειου> <γραμμες κατανομης> <αιτηματα>

Λειτουργια προγραμματος:
Το προγραμμα δεχεται ενα αρχειο, το χωριζει σε τμηματα οπου το καθε ενα εχει lines γραμμες, γενναει Ν διεργασιες-παιδια οπου η καθεμια ζηταει ενα τμημα και μια γραμμη αυτου. Η διεργασια με τη σειρα της βαζει τα τμηματα που ζητουνται στην κοινη μνημη, με προτεραιοτητα αυτο που ζητηθηκε πρωτο. 

Κοινη μνημη:
• Πινακας lineschar[lines] ο οποιος περιεχει το τμημα που εχει ζητηθει τη συγκεκριμενη στιγμη.
• Πινακας segreqs[size][2] ο οποιος περιεχει τα τμηματα που χουν ζητηθει με πρωτο αυτο που ζητηθηκε πρωτο κλπ, και τον αριθμο των αιτησεων για το συγκεκριμενο τμημα.
• Αριθμος τμηματων.
• Αριθμος τερματισμενων διεργασιων-παιδιων.
• Επομενη θεση εισαγωγης νεου τμηματος στον πινακα segreqs.
• Αριθμος αναγνωστων μες στη κοινη μνημη.

Σημαφοροι:
• Set σημαφορων οπου εχουμε τοσους σημαφορους οσα και τα τμηματα στα οποια ειναι χωρισμενο το αρχειο. Οταν οι readers μπορουν να παρουν τις γραμμες που θελουν απο αυτο το τμημα, τοτε σηματοδοτει ο σημαφορος του τμηματος.
• Σημαφορος για τη μεταβλητη readers.
• Σημαφορος για τον πινακα segreqs.
• Σημαφορος για την μεταβλητη finished.
• Σημαφορος που σηματοδοτουν στη διεργασια-γονεα οτι υπαρχει αιτημα απο διεργασια-παιδι.
• Σημαφορος που σηματοδοτουν στη διεργασια-γονεα να προχωρησει στο επομενο αιτημα.

Τροπος λειτουργιας προγραμματος:
Το αρχειο που εισαγεται χωριζεται σε size τμηματα οπου το καθε ενα εχει lines γραμμες και εισαγονται σε εναν δισδιαστατο πινακα segs[size][lines]. Δημιουργειται μια κοινη μνημη για τη διεργασια-γονεα και τις διεργασιες-παιδια, και οι απαραιτητοι σημαφοροι. Δημιουργει τα παιδια. Μετα οι διεργασιες κανουν τα εξης:

• Διεργασια-γονεας:
Δεχεται το πρωτο αιτημα (οταν του δωθει σημα) βαζει το τμημα στην κοινη μνημη και οταν του δωθει σημα προχωραει στο επομενο μεχρις οτου να του δωθει το σημα οτι τελειωσαν ολα τα παιδια.

• Διεργασια-παιδι:
Αφου ανακταει ολους τους σημαφορους και την κοινη μνημη, κανει το πρωτο του αιτημα στον γονιο. Αφου διαβασουν ολα τα παιδια το περιεχομενο της κοινης μνημης, εφοσον ειναι αυτο που ζητησαν, τοτε δινουν το σημα για να προχωρησει ο γονεας στο επομενο αιτημα που εχει προτεραιοτητα.